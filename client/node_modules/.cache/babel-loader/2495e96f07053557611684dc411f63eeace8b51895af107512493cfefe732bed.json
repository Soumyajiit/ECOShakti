{"ast":null,"code":"import _objectSpread from\"C:/Users/soumy/Desktop/Solar Dashboard/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate}from'react-router-dom';import LoginPage from'./LoginPage';import RegisterPage from'./RegisterPage';// --- Recharts & Lucide Icons ---\nimport{AreaChart,Area,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{Bell,Search,ChevronDown,LayoutDashboard,Settings,Sun,Zap,BatteryCharging,ArrowLeftRight,History,PlusCircle,Menu,LogOut,Info,CalendarDays,AlertTriangle,Power}from'lucide-react';// --- Styles ---\nimport'./App.css';// --- Mock Data ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const initialPowerData=[{time:'00:00',generation:0,consumption:300,battery:85},{time:'02:00',generation:0,consumption:250,battery:80},{time:'04:00',generation:0,consumption:200,battery:75},{time:'06:00',generation:100,consumption:400,battery:70},{time:'08:00',generation:800,consumption:500,battery:78},{time:'10:00',generation:1500,consumption:600,battery:90},{time:'12:00',generation:2200,consumption:750,battery:100},{time:'14:00',generation:2100,consumption:800,battery:100},{time:'16:00',generation:1600,consumption:900,battery:95},{time:'18:00',generation:500,consumption:1200,battery:85},{time:'20:00',generation:0,consumption:1000,battery:70},{time:'22:00',generation:0,consumption:600,battery:60}];const initialEventLog=[{id:1,time:'15:02',event:'Battery Full',status:'Charged',icon:/*#__PURE__*/_jsx(BatteryCharging,{size:16}),color:'green'},{id:2,time:'14:30',event:'Peak Generation',status:'Optimal',icon:/*#__PURE__*/_jsx(Sun,{size:16}),color:'orange'},{id:3,time:'12:15',event:'Grid Exporting',status:'Active',icon:/*#__PURE__*/_jsx(ArrowLeftRight,{size:16}),color:'blue'},{id:4,time:'08:45',event:'High Consumption',status:'Warning',icon:/*#__PURE__*/_jsx(Zap,{size:16}),color:'red'},{id:5,time:'06:00',event:'Generation Started',status:'Nominal',icon:/*#__PURE__*/_jsx(Sun,{size:16}),color:'orange'}];const historyData=[{date:'2025-09-17',totalGeneration:25.2,totalConsumption:18.5,peakGeneration:2.3,notes:\"Clear skies, high production.\"},{date:'2025-09-16',totalGeneration:22.8,totalConsumption:20.1,peakGeneration:2.1,notes:\"Partly cloudy in the afternoon.\"},{date:'2025-09-15',totalGeneration:26.1,totalConsumption:19.2,peakGeneration:2.4,notes:\"Sunny day, optimal performance.\"},{date:'2025-09-14',totalGeneration:15.5,totalConsumption:22.0,peakGeneration:1.2,notes:\"Overcast with heavy rain.\"},{date:'2025-09-13',totalGeneration:24.9,totalConsumption:17.8,peakGeneration:2.2,notes:\"Excellent generation.\"},{date:'2025-09-12',totalGeneration:23.5,totalConsumption:21.5,peakGeneration:2.0,notes:\"Higher than average consumption.\"},{date:'2025-09-11',totalGeneration:19.8,totalConsumption:18.9,peakGeneration:1.8,notes:\"Morning fog, cleared by noon.\"}];const mockNotifications=[{id:1,title:'High Consumption Alert',message:'Power consumption has exceeded 1100W.',timestamp:'5m ago',read:false,icon:/*#__PURE__*/_jsx(AlertTriangle,{size:20,className:\"red-icon\"})},{id:2,title:'Generation Dip',message:'Solar generation dropped unexpectedly.',timestamp:'2h ago',read:false,icon:/*#__PURE__*/_jsx(Sun,{size:20,className:\"orange-icon\"})},{id:3,title:'System Nominal',message:'All systems are running optimally.',timestamp:'8h ago',read:true,icon:/*#__PURE__*/_jsx(Power,{size:20,className:\"green-icon\"})}];// --- Main App Router Component ---\nexport default function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const token=localStorage.getItem('token');if(token){setIsAuthenticated(true);}},[]);const setAuth=boolean=>{setIsAuthenticated(boolean);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isAuthenticated?/*#__PURE__*/_jsx(LoginPage,{setAuth:setAuth}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!isAuthenticated?/*#__PURE__*/_jsx(RegisterPage,{setAuth:setAuth}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Dashboard,{setAuth:setAuth}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});}// --- DASHBOARD COMPONENT ---\nconst Dashboard=_ref=>{let{setAuth}=_ref;const[sidebarOpen,setSidebarOpen]=useState(false);const[powerData,setPowerData]=useState(initialPowerData);const[eventLog,setEventLog]=useState(initialEventLog);const[activeView,setActiveView]=useState('dashboard');const[notifications,setNotifications]=useState(mockNotifications);const[isNotificationOpen,setNotificationOpen]=useState(false);const navigate=useNavigate();const handleAddData=newDataPoint=>{const formattedData=_objectSpread(_objectSpread({},newDataPoint),{},{generation:Number(newDataPoint.generation)||0,consumption:Number(newDataPoint.consumption)||0,battery:Number(newDataPoint.battery)||0});const updatedData=[...powerData,formattedData].sort((a,b)=>a.time.localeCompare(b.time));setPowerData(updatedData);const newEvent={id:eventLog.length+1,time:new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'}),event:'Manual Entry',status:'Logged',icon:/*#__PURE__*/_jsx(PlusCircle,{size:16}),color:'gray'};setEventLog([newEvent,...eventLog]);};const handleLogout=()=>{localStorage.removeItem('token');setAuth(false);navigate('/login');};const handleMarkAllAsRead=()=>{setNotifications(notifications.map(n=>_objectSpread(_objectSpread({},n),{},{read:true})));};const unreadCount=notifications.filter(n=>!n.read).length;return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,activeView:activeView,setActiveView:setActiveView}),sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-overlay\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(Header,{onMenuClick:()=>setSidebarOpen(!sidebarOpen),onLogout:handleLogout,onNotificationClick:()=>setNotificationOpen(!isNotificationOpen),unreadCount:unreadCount}),isNotificationOpen&&/*#__PURE__*/_jsx(NotificationPanel,{notifications:notifications,onMarkAllRead:handleMarkAllAsRead,onClose:()=>setNotificationOpen(false)}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsx(DashboardContent,{activeView:activeView,powerData:powerData,eventLog:eventLog,onAddData:handleAddData})})]})]});};// --- Smaller Reusable Components ---\n// Change this component in your App.js\nconst Sidebar=_ref2=>{let{isOpen,activeView,setActiveView}=_ref2;return/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-title\",children:\"ECOSHAKTI\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(activeView==='dashboard'?'active':''),onClick:()=>setActiveView('dashboard'),children:[/*#__PURE__*/_jsx(LayoutDashboard,{className:\"nav-item-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(activeView==='history'?'active':''),onClick:()=>setActiveView('history'),children:[/*#__PURE__*/_jsx(History,{className:\"nav-item-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"History\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(activeView==='settings'?'active':''),onClick:()=>setActiveView('settings'),children:[/*#__PURE__*/_jsx(Settings,{className:\"nav-item-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(activeView==='about'?'active':''),onClick:()=>setActiveView('about'),children:[/*#__PURE__*/_jsx(Info,{className:\"nav-item-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"About\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"support-box\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Need help?\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Contact Support\"})]})})]});};const Header=_ref3=>{let{onMenuClick,onLogout,onNotificationClick,unreadCount}=_ref3;return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:onMenuClick,children:/*#__PURE__*/_jsx(Menu,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar-container\",children:[/*#__PURE__*/_jsx(Search,{className:\"search-icon\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",className:\"search-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"notification-button\",onClick:onNotificationClick,children:[/*#__PURE__*/_jsx(Bell,{}),unreadCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"notification-dot-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"notification-dot-ping\"}),/*#__PURE__*/_jsx(\"span\",{className:\"notification-dot\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/40x40/F97316/FFFFFF/png?text=S\",alt:\"User\",className:\"user-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:\"Soumya\"}),/*#__PURE__*/_jsx(ChevronDown,{size:16})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,className:\"logout-button\",children:/*#__PURE__*/_jsx(LogOut,{size:20})})]})]})});};const DashboardContent=_ref4=>{let{activeView,powerData,eventLog,onAddData}=_ref4;const latestData=powerData.length>0?powerData[powerData.length-1]:{};const batteryStatus=latestData.battery||0;const gridStatus=latestData.generation>latestData.consumption?\"Exporting\":\"Importing\";const gridColor=gridStatus===\"Exporting\"?\"green\":\"red\";return/*#__PURE__*/_jsxs(_Fragment,{children:[activeView==='dashboard'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-cards-grid\",children:[/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Zap,{size:24}),title:\"Live Generation\",value:\"\".concat(latestData.generation||0,\" W\"),trend:\"+5%\",color:\"orange\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Zap,{size:24}),title:\"Consumption\",value:\"\".concat(latestData.consumption||0,\" W\"),trend:\"-2%\",color:\"blue\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(BatteryCharging,{size:24}),title:\"Battery Status\",value:\"\".concat(batteryStatus,\"%\"),trend:\"\".concat(batteryStatus>99?'Full':'Charging'),color:\"green\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(ArrowLeftRight,{size:24}),title:\"Grid Status\",value:gridStatus,trend:\"\",color:gridColor})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-title\",children:\"Today's Power Metrics\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(AreaChart,{data:powerData,children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorGeneration\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#F97316\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#F97316\",stopOpacity:0})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorConsumption\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#3B82F6\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#3B82F6\",stopOpacity:0})]})]}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#e0e0e0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"generation\",stroke:\"#F97316\",fillOpacity:1,fill:\"url(#colorGeneration)\",name:\"Generation (W)\"}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"consumption\",stroke:\"#3B82F6\",fillOpacity:1,fill:\"url(#colorConsumption)\",name:\"Consumption (W)\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-log-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"event-log-title\",children:\"Recent Events\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"event-log-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:eventLog.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.time}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"event-cell\",children:[item.icon,\" \",item.event]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(item.color),children:item.status})})]},item.id))})]})]}),/*#__PURE__*/_jsx(DataEntryForm,{onAddData:onAddData})]})]}),activeView==='history'&&/*#__PURE__*/_jsx(HistoryView,{}),activeView==='about'&&/*#__PURE__*/_jsx(AboutSection,{}),activeView==='settings'&&/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Settings\"})]});};const StatCard=_ref5=>{let{icon,title,value,trend,color}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-card-icon \".concat(color),children:icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"stat-card-title\",children:title}),/*#__PURE__*/_jsx(\"h4\",{className:\"stat-card-value\",children:value})]}),trend&&/*#__PURE__*/_jsx(\"p\",{className:\"stat-card-trend \".concat(trend.includes('+')?'positive':'negative'),children:trend})]});};const DataEntryForm=_ref6=>{let{onAddData}=_ref6;const[time,setTime]=useState('');const[generation,setGeneration]=useState('');const[consumption,setConsumption]=useState('');const[battery,setBattery]=useState('');const handleSubmit=e=>{e.preventDefault();if(!time){alert(\"Please enter a time.\");return;}onAddData({time,generation,consumption,battery});setTime('');setGeneration('');setConsumption('');setBattery('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"data-entry-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"data-entry-title\",children:\"Add New Data Point\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"data-entry-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time\",children:\"Time (HH:MM)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"time\",type:\"time\",value:time,onChange:e=>setTime(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"generation\",children:\"Generation (W)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"generation\",type:\"number\",value:generation,onChange:e=>setGeneration(e.target.value),placeholder:\"e.g., 1500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"consumption\",children:\"Consumption (W)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"consumption\",type:\"number\",value:consumption,onChange:e=>setConsumption(e.target.value),placeholder:\"e.g., 600\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"battery\",children:\"Battery (%)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"battery\",type:\"number\",value:battery,onChange:e=>setBattery(e.target.value),placeholder:\"e.g., 90\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Add Data Point\"})]})]});};const AboutSection=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"about-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"about-title\",children:\"About Eco Shakti\"}),/*#__PURE__*/_jsx(\"p\",{className:\"about-description\",children:\"Eco Shakti is more than just an app\\u2014it's your command center for a sustainable energy future. Our mission is to put the power of renewable energy management directly in your hands, transforming complex data from your Eco Shakti sensors into clear, actionable insights.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"about-description\",children:\"By connecting seamlessly with your hardware, the app provides a dynamic, real-time overview of your entire energy ecosystem. The intuitive dashboard visualizes every watt generated by your solar panels, every unit of energy stored in your batteries, and every bit of power consumed by your home. Track your energy flow with detailed charts and see your system's performance at a glance.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"about-description\",children:\"Go beyond simple monitoring. Eco Shakti analyzes your historical data to reveal patterns in your energy usage. Understand your peak consumption times, identify opportunities to reduce waste, and make smarter decisions to maximize your savings and minimize your environmental impact. With intelligent alerts about your system's health, you can stay ahead of any issues and ensure your setup is always running at peak efficiency. Eco Shakti empowers you on your journey toward greater energy independence.\"})]});const RingChart=_ref7=>{let{size,strokeWidth,percentage,color}=_ref7;const viewBox=\"0 0 \".concat(size,\" \").concat(size);const radius=(size-strokeWidth)/2;const circumference=radius*2*Math.PI;const offset=circumference-percentage/100*circumference;return/*#__PURE__*/_jsxs(\"svg\",{width:size,height:size,viewBox:viewBox,className:\"ring-chart-svg\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"ring-chart-background\",cx:size/2,cy:size/2,r:radius,strokeWidth:strokeWidth}),/*#__PURE__*/_jsx(\"circle\",{className:\"ring-chart-progress\",cx:size/2,cy:size/2,r:radius,strokeWidth:strokeWidth,strokeDasharray:circumference,strokeDashoffset:offset,stroke:color}),/*#__PURE__*/_jsx(\"text\",{className:\"ring-chart-text\",x:\"50%\",y:\"50%\",dy:\".3em\",textAnchor:\"middle\",children:\"\".concat(Math.round(percentage),\"%\")})]});};const HistoryView=()=>{const[selectedDay,setSelectedDay]=useState(historyData[0]);const netEnergy=selectedDay.totalGeneration-selectedDay.totalConsumption;const selfSufficiency=Math.min(100,selectedDay.totalGeneration/selectedDay.totalConsumption*100);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Weekly History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"day-selector\",children:historyData.map(day=>/*#__PURE__*/_jsxs(\"button\",{className:\"day-selector-item \".concat(selectedDay.date===day.date?'active':''),onClick:()=>setSelectedDay(day),children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(day.date).toLocaleDateString('en-US',{weekday:'short'})}),/*#__PURE__*/_jsx(\"strong\",{children:new Date(day.date).toLocaleDateString('en-US',{day:'2-digit'})})]},day.date))}),/*#__PURE__*/_jsxs(\"div\",{className:\"day-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"day-details-header\",children:[/*#__PURE__*/_jsx(CalendarDays,{size:24}),/*#__PURE__*/_jsx(\"h3\",{children:new Date(selectedDay.date).toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"day-details-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"day-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(Sun,{size:20,className:\"orange-icon\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Generation\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[selectedDay.totalGeneration,\" kWh\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(Zap,{size:20,className:\"blue-icon\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Consumption\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[selectedDay.totalConsumption,\" kWh\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(ArrowLeftRight,{size:20,className:netEnergy>=0?'green-icon':'red-icon'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Net Energy\"}),/*#__PURE__*/_jsxs(\"strong\",{className:netEnergy>=0?'positive':'negative',children:[netEnergy.toFixed(1),\" kWh\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"day-chart\",children:[/*#__PURE__*/_jsx(RingChart,{size:140,strokeWidth:12,percentage:selfSufficiency,color:\"var(--tangerine-primary)\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Self-Sufficiency\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You generated \",Math.round(selfSufficiency),\"% of the energy you consumed.\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"day-details-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",selectedDay.notes]})})]})]})]});};const NotificationPanel=_ref8=>{let{notifications,onMarkAllRead,onClose}=_ref8;const panelRef=useRef();// Close panel if clicked outside\nuseEffect(()=>{const handleClickOutside=event=>{if(panelRef.current&&!panelRef.current.contains(event.target)&&!event.target.closest('.notification-button')){onClose();}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[onClose]);return/*#__PURE__*/_jsxs(\"div\",{className:\"notification-panel\",ref:panelRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onMarkAllRead,children:\"Mark all as read\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notification-list\",children:notifications.map(n=>/*#__PURE__*/_jsxs(\"div\",{className:\"notification-item \".concat(!n.read?'unread':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"notification-icon\",children:n.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:n.title}),/*#__PURE__*/_jsx(\"p\",{children:n.message}),/*#__PURE__*/_jsx(\"span\",{children:n.timestamp})]})]},n.id))})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}